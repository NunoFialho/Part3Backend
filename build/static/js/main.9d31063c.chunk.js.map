{"version":3,"sources":["components/Filter.js","components/Person.js","components/Notification.js","services/Comm.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","persons","useState","filter","setFilter","filterArr","setFilterArr","onSubmit","event","preventDefault","x","person","name","includes","value","onChange","target","type","map","number","key","Person","func","id","onClick","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","PersonForm","setPersons","newName","setNewName","newNumber","setNewNumber","setMessage","nameObject","length","Comm","returnedPerson","concat","setTimeout","window","confirm","find","element","App","useEffect","n","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d31063c.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst Filter = ({persons}) =>{\r\n    \r\n    const [filter, setFilter] = useState('')\r\n    const [filterArr,setFilterArr] = useState([])\r\n\r\n\r\n    const handleFilterChange = (event) =>{\r\n        setFilter(event.target.value)\r\n      }\r\n    \r\n      const addFilter = (event) =>{\r\n        event.preventDefault();\r\n        const x = persons.filter(person => person.name.includes(filter))\r\n        setFilterArr(x)\r\n      }\r\n\r\n      return(\r\n          <>\r\n            <form onSubmit={addFilter}>\r\n                <div>\r\n                    filter shown with <input value={filter} onChange={handleFilterChange}/>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">filter</button>\r\n                </div>\r\n\r\n      \r\n            </form>\r\n                <ul>\r\n                    {filterArr.map(({name,number}) => <li key={'filter'+name}>{name} {number}</li>)}\r\n                </ul>\r\n          </>\r\n      )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\n\r\n\r\nconst Person = ({persons, func}) =>{\r\n    \r\n    return(\r\n        <>\r\n            {persons.map(({name, number,id})=><li key={name}>{name} {number} <button onClick={()=>func(id,name)}>delete</button></li>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import axios from 'axios'\r\nconst baseUrl = 'https://warm-atoll-63177.herokuapp.com/api/persons'\r\n\r\nconst getAll = () =>{\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) =>{\r\n    const request = axios.post(baseUrl,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) =>{\r\n    const request = axios.put(baseUrl+'/'+id, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteItem = (id) => {\r\n    const request = axios.delete(baseUrl+'/'+id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deleteItem\r\n}","import React, { useState } from 'react'\r\nimport Notification from './Notification'\r\nimport Comm from '../../src/services/Comm.js'\r\nimport './index.css'\r\n\r\nconst PersonForm = ({persons, setPersons}) => {\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState(0)\r\n  const [message, setMessage ] = useState(null)\r\n\r\n  const handleNoteChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    const i = persons.filter(person => person.name === newName)\r\n    if(i.length===0){  \r\n      Comm.create(nameObject).then(\r\n          returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n            setMessage('Added '+newName)\r\n            setNewName('')\r\n            setNewNumber(0)       \r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 2000)\r\n          }\r\n      )\r\n    }else{\r\n      if(window.confirm(newName+' is already on the list, replace older number with new one?')){\r\n          const old = persons.find(element => element.name===newName)\r\n          const id = old.id\r\n          Comm.update(id, nameObject).then(\r\n            returnedPerson => {\r\n              setPersons(persons.map(element => element.id===returnedPerson.id? returnedPerson : element))\r\n              setMessage('Update number for '+newName)\r\n              setNewName('')\r\n              setNewNumber(0)\r\n              setTimeout(() => {\r\n                setMessage(null)\r\n              }, 2000)\r\n            }\r\n          )\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n    return(\r\n        <>\r\n            <Notification className='notify' message={message}/>\r\n            <form onSubmit={addName}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleNoteChange}/>\r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleNumberChange}/>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm","import React, { useState, useEffect } from 'react'\r\nimport Filter from \"./components/Filter\"\r\nimport Person from \"./components/Person\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Comm from './services/Comm'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ message, setMessage ] = useState('')\r\n  \r\n  useEffect(() =>{\r\n    Comm.getAll().then(\r\n      response => {\r\n        setPersons(response)\r\n      }\r\n    )\r\n  }, [])\r\n\r\n\r\n  const delet = (id,name) =>{\r\n    if(window.confirm('Delete '+name+'?')){\r\n      Comm.deleteItem(id).then(\r\n        setPersons(persons.filter(n => n.id !== id))\r\n      ).catch(error =>\r\n        setMessage(name+' was already removed from server')\r\n      )\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 2000)\r\n    }   \r\n    \r\n  }\r\n  return (\r\n    <>\r\n      <h2>Phonebook</h2>\r\n      <Filter persons={persons}/>\r\n      <Notification className='error' message={message}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm persons={persons} setPersons={setPersons} />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        <Person persons={persons} func={delet}/>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}