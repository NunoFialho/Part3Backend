(this["webpackJsonppart2-2"]=this["webpackJsonppart2-2"]||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),l=n.n(u),c=n(2),o=function(e){var t=e.persons,n=Object(a.useState)(""),u=Object(c.a)(n,2),l=u[0],o=u[1],i=Object(a.useState)([]),m=Object(c.a)(i,2),s=m[0],f=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=t.filter((function(e){return e.name.includes(l)}));f(n)}},r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{value:l,onChange:function(e){o(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"filter"))),r.a.createElement("ul",null,s.map((function(e){var t=e.name,n=e.number;return r.a.createElement("li",{key:"filter"+t},t," ",n)}))))},i=function(e){var t=e.persons,n=e.func;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.name,a=e.number,u=e.id;return r.a.createElement("li",{key:t},t," ",a," ",r.a.createElement("button",{onClick:function(){return n(u,t)}},"delete"))})))},m=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)},s=n(3),f=n.n(s),d="https://warm-atoll-63177.herokuapp.com/api/persons",p=function(){return f.a.get(d).then((function(e){return e.data}))},E=function(e){return f.a.post(d,e).then((function(e){return e.data}))},b=function(e,t){return f.a.put(d+"/"+e,t).then((function(e){return e.data}))},v=function(e){return f.a.delete(d+"/"+e).then((function(e){return e.data}))},h=(n(36),function(e){var t=e.persons,n=e.setPersons,u=Object(a.useState)(""),l=Object(c.a)(u,2),o=l[0],i=l[1],s=Object(a.useState)(0),f=Object(c.a)(s,2),d=f[0],p=f[1],v=Object(a.useState)(null),h=Object(c.a)(v,2),g=h[0],j=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{className:"notify",message:g}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={name:o,number:d};if(0===t.filter((function(e){return e.name===o})).length)E(a).then((function(e){n(t.concat(e)),j("Added "+o),i(""),p(0),setTimeout((function(){j(null)}),2e3)}));else if(window.confirm(o+" is already on the list, replace older number with new one?")){var r=t.find((function(e){return e.name===o})).id;b(r,a).then((function(e){n(t.map((function(t){return t.id===e.id?e:t}))),j("Update number for "+o),i(""),p(0),setTimeout((function(){j(null)}),2e3)}))}}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:o,onChange:function(e){i(e.target.value)}})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:d,onChange:function(e){p(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))}),g=(n(37),function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)(""),s=Object(c.a)(l,2),f=s[0],d=s[1];Object(a.useEffect)((function(){p().then((function(e){u(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(o,{persons:n}),r.a.createElement(m,{className:"error",message:f}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(h,{persons:n,setPersons:u}),r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,r.a.createElement(i,{persons:n,func:function(e,t){window.confirm("Delete "+t+"?")&&(v(e).then(u(n.filter((function(t){return t.id!==e})))).catch((function(e){return d(t+" was already removed from server")})),setTimeout((function(){d(null)}),2e3))}})))});l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9d31063c.chunk.js.map